<!DOCTYPE html>
<html lang="en-us">
<head>
  <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Personal Kubernetes Cluster on Digital Ocean With kubeadm | howinator howinatin</title>
<meta name="description" content="Howie&#39;s thoughts but on the internet">
<meta name="author" content="Howie Benefiel">
<link rel="apple-touch-icon" sizes="180x180" href="/img/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/img/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/img/favicon-16x16.png">

<link rel="stylesheet" href="/css/main.min.bff4d65ef5673d25fb238cc53c34dadc7f7503ae3d78cf1edb369eebb35facaf.css">

</head>
<body>
  <nav class="site-nav">
  <div class="nav-inner">
    <a class="nav-home" href="/" aria-label="Home">
      <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path><polyline points="9 22 9 12 15 12 15 22"></polyline></svg>

    </a>
    <input type="checkbox" id="nav-toggle" class="nav-toggle" aria-hidden="true">
    <label for="nav-toggle" class="nav-hamburger" aria-label="Toggle menu">
      <span></span>
      <span></span>
      <span></span>
    </label>
    <ul class="nav-links">
      
      <li><a href="/blog/">blog</a></li>
      
      <li><a href="/resume.pdf">resume</a></li>
      
    </ul>
  </div>
</nav>

  <main class="site-main">
    
<article class="post">
  <header class="post-header">
    <h1 class="post-title">Personal Kubernetes Cluster on Digital Ocean With kubeadm</h1>
    <div class="post-meta">
  <time datetime="2019-01-23">Jan 23, 2019</time>
  
  <span class="post-tags">
    
    <a class="tag" href="/tags/tech/">tech</a>
    
    <a class="tag" href="/tags/k8s/">k8s</a>
    
    <a class="tag" href="/tags/kubeadm/">kubeadm</a>
    
    <a class="tag" href="/tags/digital-ocean/">digital ocean</a>
    
  </span>
  
</div>

  </header>
  <div class="post-content">
    <h1 id="introduction">Introduction</h1>
<p>I finally got around to bootstrapping a k8s cluster myself.
I really had two motivations for doing this:</p>
<ol>
<li>I wanted a k8s cluster that I could easily deploy new personal projects to.</li>
<li>I wanted a k8s cluster to hack on so I could further my understanding of k8s.</li>
</ol>
<p>I am now at at a point where I have a cluster which enables those motivations, so I decided it&rsquo;s time to write a blog post about it (served from the k8s-cluster itself &#x1f60e;).</p>
<h1 id="decisions-decisions">Decisions, Decisions</h1>
<p>Before I went into this, I had to make a couple design decisions to make.</p>
<h2 id="infra-provider">Infra Provider</h2>
<p>My first decision was which infrastructure provider I&rsquo;d build this on.
This decision was primarily driven by cost.</p>
<p>There were four main providers I looked at: GCP, AWS, DigitalOcean (DO), and OVH.
My assumptions for measuring pricing were that I&rsquo;d mainly use machines with 2 CPUs and 4GB of RAM and the machines would be the latest generation if applicable.
I&rsquo;ve tabulated the prices per month in the table below.</p>
<table>
  <thead>
      <tr>
          <th>AWS (t2.medium)</th>
          <th>GCP (custom)</th>
          <th>DO (standard droplet)</th>
          <th>OVH (B2-7, 7GB RAM)</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td>$29.95</td>
          <td>$43.39</td>
          <td>$20</td>
          <td>$26.4</td>
      </tr>
  </tbody>
</table>
<p>DigitalOcean is the clear winner in terms of pricing.</p>
<p>I won&rsquo;t lie - I was wishing that GCP would&rsquo;ve been more competitive since I love working in GCP (topic for another blog post?), but GCP just didn&rsquo;t make financial sense.
So, I decided to go with DO, and so far, it really hasn&rsquo;t left me wanting.</p>
<h2 id="kubernetes-provisioning-methodologytooling">Kubernetes Provisioning Methodology/Tooling</h2>
<p>Next, I had to decide on how I&rsquo;d actually provision this thing.
The clear winner here is <code>kubeadm</code>.
I&rsquo;ll give a quick rundown of the tools in the space and then explain why <code>kubeadm</code> is the winner.</p>
<p><code>kubespray</code> is an Ansible-based tool for deploying k8s.
With 5,000 stars, <code>kubespray</code> looks promising, but Ansible and I have a fraught relationship, so <code>kubespray</code> is out.</p>
<p>Next up is <code>kops</code>.
I&rsquo;ve used <code>kops</code> at work in the past with great success on <code>AWS</code>, but they only officially support AWS, so <code>kops</code> was out.</p>
<p>Another tool I found is <code>bootkube</code>.
<code>bootkube</code> is a tool to help k8s admins deploy a self-hosted k8s-cluster.
Honestly, I think this approach is incredibly intellectually satisfying.
Besides being logically sound, this self-hosted approach makes <a href="https://coreos.com/blog/self-hosted-kubernetes.html">installs, scale-outs, and upgrades</a>.
The kubernetes team has a <a href="https://github.com/kubernetes/community/blob/master/contributors/design-proposals/cluster-lifecycle/self-hosted-kubernetes.md">great document about self-hosting</a>.</p>
<p>As much as I like this approach, I&rsquo;m not planning on having a high-availability, multi-master cluster because of cost.
Since I don&rsquo;t have a multi-master cluster, reboots of my master would kill my cluster and require manual intervention.
I decided against this approach since I wanted a reliable cluster that will be robust in the face of me doing terrible things to the cluster.</p>
<p>Finally, there&rsquo;s <code>kubeadm</code>.
<code>kubeadm</code> has recently become the officially accepted tool for deploying Kubernetes clusters using community-accepted best practices.
In fact, the tool is a <a href="https://github.com/kubernetes/kubernetes/tree/master/cmd/kubeadm">main line component in the Kubernetes repo</a>.
<code>kubeadm</code> allows you to</p>

  </div>
  
  
</article>

  </main>
  <footer class="site-footer">
  <div class="footer-inner">
    <span>&copy; 2026 Howie Benefiel</span>
    <span class="footer-sep">&middot;</span>
    <span>Powered by <a href="https://gohugo.io/">Hugo</a></span>
  </div>
</footer>

</body>
</html>
